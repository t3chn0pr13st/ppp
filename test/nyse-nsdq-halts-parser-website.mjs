const response = {
  result:
    "<div class=\"genTable\"><table>\r\n\t\t<colgroup>\r\n\t\t<col class=\"gtcol1\"></col>\r\n\t\t<col class=\"gtcol2\"></col>\r\n\t\t<col class=\"gtcol3\"></col>\r\n\t\t<col class=\"gtcol4\"></col>\r\n\t\t<col class=\"gtcol5\"></col>\r\n\t\t<col class=\"gtcol6\"></col>\r\n\t\t<col class=\"gtcol7\"></col>\r\n\t\t<col class=\"gtcol8\"></col>\r\n\t\t<col class=\"gtcol9\"></col>\r\n\t\t<col class=\"gtcol10\"></col>\r\n\t\t</colgroup>\r\n\t<tr>\r\n\t\t<th class=\"gtcol1\">Halt Date</th>\r\n\t\t<th class=\"gtcol2\">Halt Time</th>\r\n\t\t<th class=\"gtcol3\">Issue Symbol</th>\r\n\t\t<th class=\"gtcol4\">Issue Name</th>\r\n\t\t<th class=\"gtcol5\">Market</th>\r\n\t\t<th class=\"gtcol6\">Reason Codes</th>\r\n\t\t<th class=\"gtcol7\">Pause Threshold Price</th>\r\n\t\t<th class=\"gtcol8\">Resumption Date</th>\r\n\t\t<th class=\"gtcol9\">Resumption Quote Time</th>\r\n\t\t<th class=\"gtcol10\">Resumption Trade Time</th>\r\n\t</tr>\r\n\t<tr>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>11:19:07                      </td>\r\n\t\t<td>IDAI</td>\r\n\t\t<td>T Stamp Inc. Cl A Cm St</td>\r\n\t\t<td>NASDAQ</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='LUDP Volatility Trading Pause - ' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>LUDP</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>11:19:07                      </td>\r\n\t\t<td>11:24:07                      </td>\r\n\t</tr>\r\n\t<tr class=\"genTablealt\">\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>11:13:35                      </td>\r\n\t\t<td>UBER</td>\r\n\t\t<td>Uber Technologies Inc.</td>\r\n\t\t<td>NYSE</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='T1 Halt - News Pending - Trading is halted pending the release of material news.' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>T1</a></div><div style='padding-bottom:2px'><a href='#' title='T3 News and Resumption Times - The news has been fully disseminated through a Regulation FD compliant method(s); or NASDAQ has determined either that system misuse or malfunction that . . .' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>T3</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>11:52:18                      </td>\r\n\t\t<td>11:52:18                      </td>\r\n\t</tr>\r\n\t<tr>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>10:19:05                      </td>\r\n\t\t<td>HTCR</td>\r\n\t\t<td>Heartcore Enterprises Cm</td>\r\n\t\t<td>NASDAQ</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='LUDP Volatility Trading Pause - ' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>LUDP</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>10:19:05                      </td>\r\n\t\t<td>10:24:05                      </td>\r\n\t</tr>\r\n\t<tr class=\"genTablealt\">\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>09:45:12                      </td>\r\n\t\t<td>ANGH</td>\r\n\t\t<td>Anghami Inc Ord</td>\r\n\t\t<td>NASDAQ</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='LUDP Volatility Trading Pause - ' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>LUDP</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>09:45:12                      </td>\r\n\t\t<td>09:50:12                      </td>\r\n\t</tr>\r\n\t<tr>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>09:39:50                      </td>\r\n\t\t<td>ANGH</td>\r\n\t\t<td>Anghami Inc Ord</td>\r\n\t\t<td>NASDAQ</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='LUDP Volatility Trading Pause - ' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>LUDP</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>09:39:50                      </td>\r\n\t\t<td>09:44:50                      </td>\r\n\t</tr>\r\n\t<tr class=\"genTablealt\">\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>09:34:28                      </td>\r\n\t\t<td>VMEO</td>\r\n\t\t<td>Vimeo, Inc Common Stock</td>\r\n\t\t<td>NASDAQ</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='LUDP Volatility Trading Pause - ' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>LUDP</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>09:34:28                      </td>\r\n\t\t<td>09:39:28                      </td>\r\n\t</tr>\r\n\t<tr>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>09:31:13                      </td>\r\n\t\t<td>FLNC</td>\r\n\t\t<td>Fluence Energy Cl A Cmn</td>\r\n\t\t<td>NASDAQ</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='LUDP Volatility Trading Pause - ' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>LUDP</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>09:31:13                      </td>\r\n\t\t<td>09:36:13                      </td>\r\n\t</tr>\r\n\t<tr class=\"genTablealt\">\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>09:30:32                      </td>\r\n\t\t<td>AGLE</td>\r\n\t\t<td>Aeglea BioTherapeutics, Inc CM</td>\r\n\t\t<td>NASDAQ</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='LUDP Volatility Trading Pause - ' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>LUDP</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>09:30:32                      </td>\r\n\t\t<td>09:35:32                      </td>\r\n\t</tr>\r\n\t<tr>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>07:16:44                      </td>\r\n\t\t<td>SCYX</td>\r\n\t\t<td>SCYNEXIS Inc Cmn Stk</td>\r\n\t\t<td>NASDAQ</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='T1 Halt - News Pending - Trading is halted pending the release of material news.' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>T1</a></div><div style='padding-bottom:2px'><a href='#' title='T2 Halt - News Released - The news has begun the dissemination process through a Regulation FD compliant method(s).' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>T2</a></div><div style='padding-bottom:2px'><a href='#' title='T3 News and Resumption Times - The news has been fully disseminated through a Regulation FD compliant method(s); or NASDAQ has determined either that system misuse or malfunction that . . .' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>T3</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td>02/10/2022                    </td>\r\n\t\t<td>08:00:00                      </td>\r\n\t\t<td>08:05:00                      </td>\r\n\t</tr>\r\n\t<tr class=\"genTablealt\">\r\n\t\t<td>02/09/2022                    </td>\r\n\t\t<td>08:09:22                      </td>\r\n\t\t<td>LVOPP</td>\r\n\t\t<td>LiveOne 9% Sr A Cum Pfd</td>\r\n\t\t<td>NASDAQ</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='T12 Halt - Trading Halted; For information requested by NASDAQ - ' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>T12</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td></td>\r\n\t\t<td></td>\r\n\t\t<td></td>\r\n\t</tr>\r\n\t<tr>\r\n\t\t<td>11/30/2021                    </td>\r\n\t\t<td>13:52:10                      </td>\r\n\t\t<td>AAMC</td>\r\n\t\t<td>Altisource Asset management Corp</td>\r\n\t\t<td>NYSE</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='T1 Halt - News Pending - Trading is halted pending the release of material news.' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>T1</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td></td>\r\n\t\t<td></td>\r\n\t\t<td></td>\r\n\t</tr>\r\n\t<tr class=\"genTablealt\">\r\n\t\t<td>02/22/2019                    </td>\r\n\t\t<td>16:02:01                      </td>\r\n\t\t<td>SVA</td>\r\n\t\t<td>Sinovac Biotech, Ltd Ord Shrs</td>\r\n\t\t<td>NASDAQ</td>\r\n\t\t<td><div style='padding-bottom:2px'><a href='#' title='T12 Halt - Trading Halted; For information requested by NASDAQ - ' style='color:navy;background-color:transparent;padding-bottom:1px;text-decoration:none;'>T12</a></div></td>\r\n\t\t<td></td>\r\n\t\t<td></td>\r\n\t\t<td></td>\r\n\t\t<td></td>\r\n\t</tr>\r\n</table></div>\r\n",
  id: '2',
  version: '1.1'
};

function parse_nyse_nsdq_halts() {
  const lines = response.result.split(/\r?\n/);
  const halts = [];
  const parseLine = (l) => l.replace(/<[^>]*>/gi, '').trim();

  for (let i = 0; i < lines.length; i++) {
    const line = lines[i].trim();

    if (line.startsWith('<td>')) {
      const codes = (lines[i + 5] || '')
        .replace(/<[^>]*>/gi, ' ')
        .trim()
        .split(' ');

      halts.push({
        halt_date: parseLine(lines[i]),
        halt_time: parseLine(lines[i + 1]),
        symbol: parseLine(lines[i + 2]),
        name: parseLine(lines[i + 3]),
        market: parseLine(lines[i + 4]),
        reason_code: codes[codes.length - 1],
        pause_threshold_price: parseLine(lines[i + 6]),
        resumption_date: parseLine(lines[i + 7]),
        resumption_quote_time: parseLine(lines[i + 8]),
        resumption_trade_time: parseLine(lines[i + 9])
      });

      i += 10;
    }
  }

  return halts;
}

console.log(await parse_nyse_nsdq_halts());
